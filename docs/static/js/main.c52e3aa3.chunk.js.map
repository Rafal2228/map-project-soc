{"version":3,"sources":["shared/components/Loader.jsx","game/components/MapTile.jsx","game/components/MapPath.jsx","game/components/MapCross.jsx","game/components/Map.jsx","game/components/Wheel.jsx","game/constants.js","game/components/Modal.jsx","shared/utils.js","game/components/WithFileInput.jsx","game/components/MenuModal.jsx","game/components/Counter.jsx","game/components/QuestionModal.jsx","game/actions/game.actions.js","game/selectors/game.selectors.js","game/actions/questions.actions.js","game/helpers.js","game/thunks/questions.thunks.js","game/components/FinishModal.jsx","game/components/NoQuestionsModal.jsx","game/containers/Game.jsx","game/containers/Home.jsx","game/actions/home.actions.js","game/components/WithWindowSize.jsx","game/components/Coordinate.jsx","game/components/MapBackground.jsx","game/containers/Main.jsx","game/reducers/questions.reducer.js","game/reducers/game.reducer.js","store.js","game/containers/Setup.jsx","serviceWorker.js","index.js","App.jsx"],"names":["Loader","props","react_default","a","createElement","className","index_es","icon","faSpinner","size","MapTile","filter","d","createPath","start","center","end","firstMiddle","x","y","secondMiddle","concat","shift","MapPath","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","state","maskRef","createRef","pathRef","inherits","createClass","key","value","mask","current","path","_this$props","currentSegments","totalSegments","getTotalLength","style","strokeDasharray","getBoundingClientRect","updatePath","_this$props2","id","in","stdDeviation","dx","dy","result","type","slope","baseFrequency","numOctaves","xChannelSelector","yChannelSelector","scale","in2","ref","strokeDashoffset","transition","WebkitTransition","nextProps","prevState","Component","MapCross","position","onClick","width","height","xmlns","viewBox","transform","Map","islands","rest","objectWithoutProperties","islandItems","map","island","MapTile_MapTile","crossPosition","MapPath_MapPath","MapCross_MapCross","onCrossClick","Wheel","React","memo","rotationTarget","numberOfSpins","angle","selectedColorIndex","finished","onSpin","web","from","to","reset","config","onRest","prop","src","process","alt","prev","next","nextQuestionId","WHEEL_SPIN_DURATION","MAP_VIEWBOX","MAP_BACKGROUND_ISLANDS","MAP_ISLANDS","MAP_PATH_START","MAP_PATH_END","MAP_PATH_CENTER","ModalSpring","Keyframes","Spring","opened","opacity","closed","Modal","modalState","open","content","styles","div","closeOnDimmerClick","onClose","display","e","stopPropagation","children","createPortal","document","body","createReducer","initialState","handlers","action","undefined","hasOwnProperty","guid","s4","Math","floor","random","toString","substring","WithFileInput","onSelected","accept","multiple","fileInput","acceptCheck","split","react","input","onChange","event","files","target","slice","message","prototype","reduce","acc","file","allowed","indexOf","RegExp","test","Noty","theme","text","show","assign","click","ChangeQuestionsButton","MenuModal","Modal_Modal","onChangeQuestions","onEndGame","Counter","totalTime","timeLeft","nextTick","timeoutId","setTimeout","setState","clearTimeout","perimeter","PI","offset","cx","cy","r","QuestionModal","question","Fragment","Counter_Counter","onAnswer","onSkip","getCategories","questions","categories","getCategoriesNames","createSelector","cat","push","name","getFlatQuestionsWithCategories","questionsWithCategories","q","objectSpread","categoryName","toConsumableArray","getGameState","game","getCurrentQuestion","flatQuestions","gameState","currentQuestion","find","getSkippedQuestions","skippedQuestions","getAnsweredQuestionIds","answeredQuestions","getAnsweredQuestions","getLeftQuestions","used","getBonusQuestion","bonusQuestion","getBonusQuestionAnswered","bonusQuestionAnswered","LOAD_QUESTIONS","LOAD_QUESTIONS_SUCCESS","LOAD_QUESTIONS_FAILURE","CHANGE_QUESTIONS","CHANGE_QUESTIONS_SUCCESS","CHANGE_QUESTIONS_FAILURE","parseQuestions","data","category","changeQuestions","_ref2","asyncToGenerator","regenerator_default","mark","_callee2","dispatch","fr","payload","wrap","_context2","FileReader","Promise","resolve","reject","addEventListener","parsed","JSON","parse","readAsText","sent","t0","stop","_x2","FinishModal","NoQuestionsModal","mapDispatchToProps","closeMenu","openMenu","nextQuestion","answerQuestion","answerBonusQuestion","skipQuestion","endGame","finishGame","Game","audioRef","colors","spinDuration","showBonusQuestion","handleSpin","audio","leftQuestions","ceil","play","handleOpenBonusQuestion","hidden","Map_Map","targetAnswersNumber","Wheel_Wheel","duration","easing","easeQuadOut","faCog","MenuModal_MenuModal","menuOpened","QuestionModal_QuestionModal","FinishModal_FinishModal","NoQuestionsModal_NoQuestionsModal","connect","_getGameState","categoriesNames","startGame","Home_ChangeQuestionsButton","INITIAL_WINDOW_WIDTH","window","innerWidth","INITIAL_WINDOW_HEIGHT","innerHeight","createContext","Provider","Consumer","WindowSizeProvider","updateWindowSize","debounce","removeEventListener","Coordinate","i","index","withWindowSize","coordinateItems","spaceBetween","maxControlPointSpace","horizontalCurves","verticalCurves","horizontalLength","fromTop","controlFromTop","verticalLength","fromLeft","controlFromLeft","generateCoordinates","Coordinate_Coordinate","_ref","started","game_containers_Game","containers_Home","WithWindowSize_WindowSizeProvider","components_MapBackground","questionsReducer","loading","_createReducer","defineProperty","GAME_INITIAL_STATE","gameReducer","game_reducer_createReducer","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","loadQuestions","url","_callee","res","_context","axios","get","_x","Setup","compose","withRouter","Boolean","location","hostname","match","ReactDOM","render","es","BrowserRouter","containers_Setup","fallback","Loader_Loader","Switch","Route","exact","component","Main","Redirect","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c52e3aa3.chunk.js","sourcesContent":["// @flow\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { SizeProp } from '@fortawesome/fontawesome-svg-core';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport './Loader.scss';\n\nexport interface LoaderProps {\n  size?: SizeProp;\n}\n\nexport function Loader(props: LoaderProps) {\n  return (\n    <div className=\"loader\">\n      <FontAwesomeIcon icon={faSpinner} size={props.size} />\n    </div>\n  );\n}\n","// @flow\nimport React from 'react';\nimport './MapTile.scss';\n\ninterface MapTileProps {\n  /**\n   * @description d property of SVGPathElement\n   */\n  d: string;\n}\n\nexport function MapTile(props: MapTileProps) {\n  return <path filter=\"url(#blur)\" className=\"map-tile\" d={props.d} />;\n}\n","// @flow\nimport React, { Component, createRef } from 'react';\nimport './MapPath.scss';\nimport { Point } from '../models';\n\nexport interface MapPathProps {\n  start: Point;\n  center: Point;\n  end: Point;\n  totalSegments: number;\n  currentSegments: number;\n}\n\ninterface MapPathState {\n  d: string;\n  start: Point;\n  center: Point;\n  end: Point;\n}\n\nfunction createPath(start: Point, center: Point, end: Point) {\n  const shift = 250;\n  const firstMiddle = {\n    x: (start.x + center.x) / 2,\n    y: (start.y + center.y) / 2\n  };\n  const secondMiddle = {\n    x: (center.x + end.x) / 2,\n    y: (center.y + end.y) / 2\n  };\n\n  return `\n    M\n    ${start.x},${start.y}\n    C\n    ${firstMiddle.x - shift * 2},${firstMiddle.y + shift}\n    ${center.x - shift},${center.y}\n    ${center.x},${center.y}\n    C\n    ${secondMiddle.x + shift},${secondMiddle.y + shift}\n    ${end.x + shift},${end.y}\n    ${end.x},${end.y}\n  `;\n}\n\nexport class MapPath extends Component<MapPathProps, MapPathState> {\n  static getDerivedStateFromProps(nextProps: MapPathProps, prevState: MapPathState) {\n    if (nextProps.start === prevState.start && nextProps.end === prevState.end) {\n      return prevState;\n    }\n\n    return {\n      start: nextProps.start,\n      center: nextProps.center,\n      end: nextProps.end,\n      d: createPath(nextProps.start, nextProps.center, nextProps.end)\n    };\n  }\n\n  state = {\n    start: this.props.start,\n    center: this.props.center,\n    end: this.props.end,\n    d: createPath(this.props.start, this.props.center, this.props.end)\n  };\n\n  maskRef = createRef<any>();\n  pathRef = createRef<any>();\n\n  componentDidMount() {\n    const { current: mask } = this.maskRef;\n    const { current: path } = this.pathRef;\n\n    if (!mask || !path) {\n      return;\n    }\n\n    const { currentSegments, totalSegments } = this.props;\n    const length = mask.getTotalLength();\n\n    path.style.strokeDasharray = length / (totalSegments * 2);\n    path.getBoundingClientRect();\n\n    this.updatePath(length, totalSegments, currentSegments);\n  }\n\n  componentDidUpdate() {\n    const { current: path } = this.maskRef;\n    const { currentSegments, totalSegments } = this.props;\n\n    if (!path) {\n      return;\n    }\n\n    const length = path.getTotalLength();\n    this.updatePath(length, totalSegments, currentSegments);\n  }\n\n  render() {\n    const { state } = this;\n\n    return (\n      <svg>\n        <defs>\n          <filter id=\"path\">\n            <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" />\n            <feOffset dx=\"5\" dy=\"5\" result=\"offsetblur\" />\n            <feComponentTransfer result=\"blur2\">\n              <feFuncA type=\"linear\" slope=\"0.5\" />\n            </feComponentTransfer>\n\n            <feTurbulence type=\"fractalNoise\" baseFrequency=\"0.3 0.1\" numOctaves=\"1\" result=\"warp\" />\n            <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"10\" in=\"SourceGraphic\" in2=\"warp\" />\n            <feMerge>\n              <feMergeNode in />\n              <feMergeNode in=\"blur2\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n          <mask id=\"map-path\">\n            <path className=\"map-path\" ref={this.maskRef} d={state.d} />\n          </mask>\n        </defs>\n\n        <path ref={this.pathRef} className=\"map-path--red\" filter=\"url(#path)\" mask=\"url(#map-path)\" d={state.d} />\n      </svg>\n    );\n  }\n\n  updatePath(length: number, totalSegments: number, currentSegments: number) {\n    const { current: mask } = this.maskRef;\n\n    if (!mask) {\n      return;\n    }\n\n    mask.style.strokeDasharray = length + ' ' + length;\n    mask.style.strokeDashoffset = (1 - currentSegments / totalSegments + 0.01) * length;\n    mask.getBoundingClientRect();\n    mask.style.transition = mask.style.WebkitTransition = 'stroke-dashoffset 0.4s ease-in-out 0s';\n  }\n}\n","// @flow\nimport React from 'react';\nimport { Point } from '../models';\nimport './MapCross.scss';\n\ninterface MapCrossProps {\n  position: Point;\n  size: number;\n  onClick: () => void;\n}\n\nexport function MapCross(props: MapCrossProps) {\n  return (\n    <svg\n      x={props.position.x}\n      y={props.position.y}\n      onClick={props.onClick}\n      width={props.size}\n      height={props.size}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 130 123\"\n      className=\"map-cross\"\n    >\n      <path\n        className=\"map-cross__path\"\n        d=\"M23.5,103.5s-21-5-17-15,34-53,54-63,50-24,50-24v2l11-3,9,3v4l-31,14-37,30-27,28Z\"\n        transform=\"translate(-0.5 -0.5)\"\n      />\n      <path\n        className=\"map-cross__path\"\n        d=\"M17.5,4.5l-15,10-2,6,8,1,6,8,51,36s12,5,22,25,15,33,15,33l-3-24,7,19-2-28,5,5s-18-43-57-69S17.5,4.5,17.5,4.5Z\"\n        transform=\"translate(-0.5 -0.5)\"\n      />\n    </svg>\n  );\n}\n","// @flow\nimport React from 'react';\nimport { MapTile } from './MapTile';\nimport './Map.scss';\nimport { MapPath, MapPathProps } from './MapPath';\nimport { MapCross } from './MapCross';\n\nexport interface MapProps extends MapPathProps {\n  viewBox: string;\n  islands: string[];\n  onCrossClick: () => void;\n}\n\nexport function Map(props: MapProps) {\n  const { islands, viewBox, ...rest } = props;\n  const islandItems = islands && islands.map(island => <MapTile d={island} key={island} />);\n  const crossPosition = {\n    x: props.end.x - 50,\n    y: props.end.y - 50\n  };\n\n  return (\n    <div className=\"map__wrapper\">\n      <svg className=\"map__svg\" viewBox={props.viewBox}>\n        <defs>\n          <filter id=\"blur\">\n            <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"1.5\" result=\"blur\" />\n          </filter>\n        </defs>\n        <g>{islandItems}</g>\n\n        <MapPath {...rest} />\n\n        {props.currentSegments >= props.totalSegments && (\n          <MapCross size={100} position={crossPosition} onClick={props.onCrossClick} />\n        )}\n      </svg>\n    </div>\n  );\n}\n","// @flow\nimport React from 'react';\nimport './Wheel.scss';\nimport { Spring, SpringConfig } from 'react-spring';\n// import WheelPlate from './WheelPlate';\n\ninterface WheelProps {\n  angle: number;\n  colors: string[];\n  selectedColorIndex: number;\n  numberOfSpins: number;\n  config: SpringConfig;\n  nextQuestionId: string;\n  onSpin: () => void;\n}\n\nexport const Wheel = React.memo<WheelProps>(\n  function(props: WheelProps) {\n    const rotationTarget = props.numberOfSpins * 360 + props.angle * props.selectedColorIndex;\n    let finished = rotationTarget === 0 ? true : false;\n\n    return (\n      <div className=\"wheel__wrapper\" onClick={() => finished && props.onSpin()}>\n        <Spring\n          from={{\n            transform: 'rotateZ(0deg)'\n          }}\n          to={{\n            transform: `rotateZ(${rotationTarget}deg)`\n          }}\n          reset\n          config={props.config}\n          onRest={() => (finished = true)}\n        >\n          {prop => (\n            <div style={prop} className=\"wheel__plate\">\n              <img className=\"wheel__compass\" src={`${process.env.PUBLIC_URL}/assets/compass.svg`} alt=\"\" />\n              {/* <WheelPlate angle={props.angle} colors={props.colors} /> */}\n            </div>\n          )}\n        </Spring>\n      </div>\n    );\n  },\n  function(prev, next) {\n    return prev.nextQuestionId === next.nextQuestionId;\n  }\n);\n","export const WHEEL_SPIN_DURATION = 4000;\n\nexport const MAP_VIEWBOX = '0 60 1960 1400';\nexport const MAP_BACKGROUND_ISLANDS = [\n  'M1435,0c0,0-9,3-8,7s2,6,9,12s12,13,13,15s2,10,12,8s10-12,15-10s18,6,12,11s-10,13-10,13s-1,11,13,18s28,5,28,5l15,8l43,14c0,0-2,11-5,12s15,14,15,14s2,9,0,14s-5,19,1,23s1,9,18,10s29-17,29-17s7-7,8-11s3-14,7-13s5,6,8-1s11-17,12-21s1-14,4-13s2-6,6-7s12-8,12-8s6-4,12-7s13-8,16-11s14-14,22-15s13-1,13-1s-3-4-5-5s-1-11-3-12s-7,4-8,0s1-4,3-8s-3-11-2-14s9-13,9-13L1435,0z',\n  'M-5.5,748.5l6-9c0,0-4-12,6-11s14-5,14-5s4,8,13,5s16-11,16-11l13,2l10-6l11-9c0,0-3-10,6-14s24-24,24-24s2-13,4-19s-5-22-5-22s-8-9-10-3s-12,10-12,10l-10-16l-18-5l-3,6c0,0-21,4-15-20s16-22,7-43s-18-34-18-34s-3-14,0-17s-6-19-13-26s-25-27-25-27L-5.5,748.5z',\n  'M188.5,1438.5c-15-4-31-7-33-7s-22,5-28,3s-11-6-13-6s-8,2-14,1s-13-5-13-7s-24-3-26-3s-8-8-12-13s-15-13-20-11s-10,4-10,1s2-8-1-15s-4-6-5-12s0-5-1-10s-15-29-15-29v111h198L188.5,1438.5z',\n  'M-3.5,286.5c0,0,2-2,4-5s3-9,2-17s-2-15,4-15s9-1,9-1s-2-6-1-10s6-1,6-1s5-2,8-4s-3-6,0-7s9-5,9-5s-1-9,2-9s13-1,13-1s5,0,12-4s14-6,15-11s3-12,5-13s12-6,12-6l8-22l20-6c0,0,14-11,15-14s21,2,21,2s22,2,24-5s3-23,8-23s7,1,14-4s27-26,27-26l18-13c0,0,5-4,9-8s4-11,15-9s8,5,19-1s21-12,21-12s69,0,71-8s34-1,34-1l25-1c0,0,17-7,21-7s-14,1,17,5s59-5,65-8s24-3,28-6s23,5,26,8s-12,8,6,4s21-6,28-2s13,7,33,5s22,4,29-7s3-8,9-12s15-8,15-8h-725L-3.5,286.5z',\n  'M1434.5,1439.5l38-10c0,0,4,1,20-1s44-10,46-15s14-2,18-3s27-15,31-17s0-9,11-9s18,1,18,1l44,2c0,0-12,5,18,10s45,8,47,9s42,5,42,5l25-3l14-2c0,0,14,10,33,3s24-16,41-22s19-5,33-6s50-14,50-14l-3,72H1434.5z'\n];\n\nexport const MAP_ISLANDS = [\n  'M425.5,1246.5c0,0,5,1,7-2s4-11,4-11l10,1c0,0,10-9,13-10s3-1,3-1h8c0,0,5-3,8-4s0-6,11-5s35,2,40,0s5,0,9,4s7,8,12,5s13-12,22-14s24-12,26-17s8-16,8-21s-5-24-27-21s-25,2-25-2s-6-21-22-26c-6,5-10,7-10,7s-12-6-15-5s-8-6-8-6s-14-5-17-5s-6-5-7-7s-12-5-20-5s-15,2-14-3s4-8,1-11s-18-3-21-11s-11-20-10-25s8-14,9-17s-3-24-7-31s-15-12-11-16s17-25,16-31s-4-24-20-29s3-29,3-29s1-11-13-15s-19-3-22-10s-10-14-5-16s8-3,9-5s1-8,5-9s4,5,4,5s5,4,9-3s17-27,18-34s5-18,4-24s-3-7-3-10s4-6,0-9s-5-6-3-10s8-11,8-19s-3-26-5-31s-5-10-4-17s-1-17-1-23s-12-27-16-32s-14-12-21-12s-36,1-38,18s-2,31,0,42s1,18,6,25s5,23,2,24s-20,10-26,29s-24,35-24,35s-12,32-13,38s-12,26-13,28s-3,22-2,24s-11,10-11,10s2,5-3,6s-8,2-8,5s-5,6-5,6s-3,22-3,28s2,13,0,16s-8,2-8,7s-3,8-6,10s-17,17-18,25s-2,8,2,9s9-3,9,1s-4,5-4,7s-4,12-4,17s0,14-4,16s-15,9-16,12s-6,9-7,10s-2,19-1,28s-1,17,2,19s5,2,6,0s4,2,7,2s7,3,11,2s5-1,8-1s6,5,10,8s4,5,9,2s5-8,11-6s5,9,5,9s8,2,10,1s-1,3,1,8s0,7,4,7s6-4,6,0s-3,5,1,6s5,2,9,0s7-1,8,0s6,3,6,5s5,2,5,2s1,4,1,5s3,2,5,2s1-3,3-2s1,4,5,7s7,4,8,3s4-7,5-8s7-9,8-2s-1,22,0,25s1,4,8,7s12,4,13,0s3-7,5-4s-3,9,1,10s8,8,15,7s15-6,15-6s0,4,2,6s10,6,12,5s6,4,7,5s4,5,7,5s5,8,6,10S420.5,1246.5,425.5,1246.5z',\n  'M1156,1257c7.2,0.3,14.1-8,17-14c3.3-6.7,1.3-10,6-17c2.5-3.7,4.4-4.9,4-7c-0.8-4.3-9.2-3.2-12-9c-2-4.2,1.5-6.7-1-12c-1.7-3.5-4.1-4.2-4-7c0.1-2.9,2.7-3.3,3-6c0.4-4-4.9-5.1-6-10c-0.9-4.1,2.3-4.8,4-13c0.8-3.7,0.1-3.5,1-13c0.5-5.7,0.7-5.3,1-9c0.6-8.3,0.9-12.5-1-16c-2.7-4.9-7.8-7.1-10-8c-6.2-2.6-8.5-0.5-11-3c-3-3-2.2-8.9-1-18c0.7-5.2,1.7-8.3,0-12c-0.2-0.4-1.1-1.9-3-5c-2.8-4.6-3.4-5.4-4-6c-1.9-2-3.4-2.5-6-4c-2.3-1.3-4.5-3.2-9-7c-9.6-8.1-8.2-8.9-13-12c-3.2-2.1-8.8-5.6-16-5c-0.9,0.1-4.8,0.5-9,3c-4.8,2.9-4.5,5.3-10,10c-3.5,3-6.6,5.6-11,6c-4.5,0.4-5.9-2-9-1c-3,1-3.2,3.7-7,10c-3.3,5.4-6.7,11-13,14c-2.7,1.3-5.1,1.7-7,2c-9,1.5-11.5-2.2-16,0c-3.5,1.7-2.4,4-9,10c-4.8,4.3-6.5,4.1-7,4c-3-0.7-2.4-5.3-6-8c-4.2-3.2-11.4-1.8-16,1c-2.8,1.7-3.4,3.3-10,15c-2.8,5-5.8,10.1-10,16c-5.1,7.1-8,9.6-10,9c-2.1-0.6-2.2-4.4-5-5c-1.5-0.3-2.2,0.6-4,1c-4.9,1.1-7.3-3.5-11-3c-3.2,0.5-3.4,4.4-9,13c-4.9,7.7-6.6,7.3-9,13c-1.5,3.5-3.7,8.6-2,14c0.8,2.4,2.2,4.4,4,7c2.3,3.3,3.4,5.1,5,6c1.8,1,2.4,0.5,9,1c6.4,0.5,7.7,1.1,10,0c2.4-1.2,2-2.5,4-3c2.9-0.7,4,2,9,3c3.4,0.7,4.6-0.3,6,1c1.7,1.5,0.5,3.2,2,6c1.9,3.5,5.2,3.1,6,6c0.8,2.8-1.8,4.3-1,6c1.9,3.8,16.9,0.3,18,0c7.3-1.8,7.3-3.1,11-3c5,0.2,5.1,2.7,16,8c6.3,3,9,3.5,12,7c2.9,3.3,1.9,4.6,4,6c5.9,4.1,15.1-5.1,21-1c1.9,1.3,3.2,3.8,3,6c-0.4,3.7-5.1,4.2-6,8c-0.9,3.8,2.3,9.3,6,10c3.9,0.7,5.5-4.3,15-9c3.3-1.6,5.7-2.8,9-3c6.7-0.4,8.5,3.8,16,6c10.9,3.2,15-3.2,22,1c4.8,2.9,3.4,6.2,10,11c2.2,1.6,6.4,4.6,12,5c6.8,0.4,8.1-3.5,14-3C1149.2,1250.6,1149.9,1256.8,1156,1257z',\n  'M919,798l25-9c0,0,11-2,12-7s6-11,6-11l-1-7c0,0-7-1-7-6s4-4-2-7s-12,1-13-3s-6-8-7-9s1-5,1-12s-10-15-11-16s-23,0-23,0s-5,15-5,18s-4,5-7,5s-8,5-7,10s-5,5-5,5l-7,25c0,0-1,13,1,15s8,2,8,2s12-5,13-8s4-1,4-1l2,7h8l1,3c0,0,11-3,13-3S920,795,919,798z',\n  'M626,555c0.6,1.3,12-1,12-1l7-5c0,0-5-8-7-9s-2-10-1-13s5-10,5-10s2-14,1-19s-5-20-5-20s-11-15-11-18s4-5,4-5s-3-2-5-3s-2-5-2-7s2-1,0-6s-7-2-4-8s4-3,4-3l1-5c0,0,2-2,3-4s0-10,0-11s0-5,0-5s-2,2-4,0s-21-13-23-11s-7,2-8,3s-4-2-5-1s-9,4-9,8s-6,9-8,15s-8,14-11,21s-14,21-18,23s-14,4-17,5s-4,3-6,3s-6,0-7,1s-4,6-5,8s0,0-3,6s-4,3-2,9s-3,8,7,8s16-6,17-7s4-8,7-5s-4,12-2,15s-2,5-2,5s1,6,6,9s7,5,9,6s9,2,13,1s7-1,12,1s16,5,16,4s4,9,8,8s15,0,16,1S622,546,626,555z',\n  'M1487,742l8,5c0,0,4,8,7,9s10,10,10,10s9,10,14,11s12,2,17,3s18,0,21,2s21,5,25,6s15,0,21,1s17,5,22,6s22,5,31,4s23,3,27-3s5-5,6-3s4,14,9,16s7,1,11,10s6,15,10,16s0,2,9,12s28,10,30,11s-10,3-1,12s10,16,18,15s21-1,24,0s16,0,8,4s-20,2-16,9s0,9,10,11s4-3,14,4s8,9,16,6s19-9,22-8s17,12,25,11s19-4,23-9s1-12,7-14s-2-7-6-8s-22-5-34-6s-11-27-11-29s-8-18-12-18s-22-6-15-9s18,0,20-7s6-7,3-15s-9-17-14-19s-7-6-8-13s-10-19-19-24s-16-23-13-24s10-4,12-10s7-16,1-19s-24-18-24-18s-13,15-19,18s-11-4-9-8s3-13,4-17s-1-10-2-14s6-2,9-7s4-8,5-10s2-11,0-11s-4,3-7,4s-10-8-12-8s-13,1-18,3s-28,7-28,7s6,9-1,10s-16,7-18,7s-7,2-11,3s2,0-7-1s-20,12-26,12s-26,1-25,7s6,8,9,14s-6,8-8,5s-5-8-9-7s-13,8-17,8s-1-3-12,4s-19,11-22,14s2,5-5,11s-15,3-16-3s3-9-4-7s-42,14-42,14s-13,1-13,5S1487,742,1487,742z',\n  'M1181,501c2,0,9-4,12-5s9,3,15,1s7-8,12-8s13,1,15-1s10-8,11-10s2-7,8-6s8,0,10-3s0-8,12-9s6-8,6-8s10-2,13-4s2-9,8-12s16-7,16-7s-5-1,1-8s8-17,15-18s15-9,17-12s7-10,7-10s4-14,3-19s-5-20-7-19s-9-7-14-5s-20,6-23,10s-18,6-19,8s-1,10-4,13s-14,12-14,12s-1,6-5,5s-14-8-11-11s-16,2-16,2s2,2-1,2s-16-1-19-1s-4,6-8,8s-4,0-6-2s-11-3-11-3s-4,4-7-10s1-16-2-21s-10-16-10-16s4-2,7-4s7-9,7-15s0-3,0-6s1-15-3-19s-13-12-20-8c-1,5-1,8-4,7s-6-11-11-10s-19-2-21-1s-15,2-15,8s-3,20-5,22s-8,0-8,0s-11,6-11,11s-7,17-7,17s-2,20-7,21s-13,4-13,4s-1,5-3,7s-11,4-11,4s-5,6-6,11s-5,8-7,9s-10,3-13,3s-5,2-8,8s-6,15-11,17s-21,10-22,22s4,37,20,29s25-14,27-17s8-5,10-4s9,6,13,6s5-2,10-1s12-6,13-4s-3,5,2,7s9,4,12,3s7-4,7-4l-2,10l21-5c0,0-3,6,1,9s5,1,10,10s26,14,29,13s11,7,13,7S1181,501,1181,501z'\n];\n\nexport const TARGET_ANSWERS_NUMBER = 20;\n\nexport const MAP_PATH_START = {\n  x: 1040,\n  y: 1237\n};\n\nexport const MAP_PATH_END = {\n  x: 1290,\n  y: 440\n};\n\nexport const MAP_PATH_CENTER = {\n  x: 905,\n  y: 770\n};\n","// @flow\nimport React from 'react';\nimport { createPortal } from 'react-dom';\nimport { animated, Keyframes } from 'react-spring';\nimport './Modal.scss';\n\nconst ModalSpring = Keyframes.Spring({\n  opened: [{ y: 0, opacity: 1, from: { y: 50, opacity: 0 } }],\n  closed: [{ y: -50, opacity: 0 }]\n});\n\nexport interface ModalProps {\n  open: boolean;\n  children: React$Node;\n  closeOnDimmerClick?: boolean;\n  onClose?: () => void;\n}\n\nexport const Modal = React.memo<ModalProps>(\n  function(props: ModalProps) {\n    const modalState = props.open ? 'opened' : 'closed';\n\n    const content = (\n      <ModalSpring state={modalState}>\n        {styles => (\n          <animated.div\n            className=\"modal__dimmer\"\n            onClick={() => props.closeOnDimmerClick && props.onClose && props.onClose()}\n            style={{\n              opacity: styles.opacity,\n              display: styles.opacity === 0 ? 'none' : 'flex'\n            }}\n          >\n            <animated.div\n              className=\"modal__wrapper\"\n              onClick={e => e.stopPropagation()}\n              style={{\n                transform: `translateY(${styles.y}%)`,\n                opacity: styles.opacity\n              }}\n            >\n              {props.children}\n            </animated.div>\n          </animated.div>\n        )}\n      </ModalSpring>\n    );\n\n    return createPortal(content, document.body);\n  },\n  function(prev, next) {\n    return prev.open === next.open;\n  }\n);\n","// @flow\nimport Noty from 'noty';\n\nexport function createReducer<T>(initialState: T, handlers: { [key: string]: (state: T, action: any) => T }) {\n  return function reducer(state: T, action: any) {\n    if (state === undefined) {\n      state = initialState;\n    }\n\n    if (handlers.hasOwnProperty(action.type)) {\n      return handlers[action.type](state, action);\n    }\n\n    return state;\n  };\n}\n\nexport function guid() {\n  function s4() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nexport function showError(message: string) {\n  return new Noty({\n    theme: 'metroui',\n    text: message,\n  }).show();\n}\n\nexport function stringToColor(str: string) {\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let colour = '#';\n  for (let i = 0; i < 3; i++) {\n    let value = (hash >> (i * 8)) & 0xff;\n    colour += ('00' + value.toString(16)).substr(-2);\n  }\n  return colour;\n}\n","// @flow\nimport React, { Fragment } from 'react';\nimport { showError } from '../../shared/utils';\n\nfunction checkFileType(type: string, allowed: string[]) {\n  if (!allowed.length) {\n    return true;\n  }\n\n  return allowed.reduce((acc, a) => {\n    if (acc) {\n      return acc;\n    }\n\n    if (a.indexOf('*') === -1) {\n      return a === type;\n    }\n\n    const regexp = new RegExp(a, 'gi');\n    return regexp.test(type);\n  }, false);\n}\n\nexport interface FileInputProps {\n  accept: string;\n  multiple: boolean;\n  onSelected: (files: File[]) => void;\n}\n\nexport function WithFileInput(Component: React$ComponentType<*>) {\n  return function(props: FileInputProps) {\n    const { onSelected, accept, multiple, ...rest } = props;\n    let fileInput = null;\n    let acceptCheck = accept && accept.length ? accept.split(',') : [];\n\n    return (\n      <Fragment>\n        <input\n          ref={input => {\n            fileInput = input;\n          }}\n          style={{ display: 'none' }}\n          type=\"file\"\n          multiple={multiple}\n          accept={accept}\n          onChange={event => {\n            let files: File[] = [];\n\n            if (event.target && event.target.files) {\n              files = [].slice.call(event.target.files);\n            }\n\n            if (!files.length) {\n              return;\n            }\n\n            if (accept) {\n              const allowType = Array.prototype.reduce.call(\n                files,\n                (acc: boolean, file: File) => {\n                  return acc && checkFileType(file.type, acceptCheck);\n                },\n                true\n              );\n\n              if (!allowType) {\n                showError('File is too big');\n                return;\n              }\n            }\n\n            props.onSelected(files);\n\n            if (!fileInput) {\n              return;\n            }\n\n            fileInput.value = '';\n          }}\n        />\n\n        <Component onClick={() => fileInput && fileInput.click()} {...rest} />\n      </Fragment>\n    );\n  };\n}\n","// @flow\nimport React from 'react';\nimport { Modal } from './Modal';\nimport { WithFileInput } from './WithFileInput';\nimport './MenuModal.scss';\n\nconst ChangeQuestionsButton = WithFileInput(props => <button {...props} />);\n\nexport interface MenuModalProps {\n  open: boolean;\n\n  onClose: () => void;\n  onChangeQuestions: (files: File[]) => void;\n  onEndGame: () => void;\n}\n\nexport function MenuModal(props: MenuModalProps) {\n  return (\n    <Modal open={props.open} closeOnDimmerClick onClose={props.onClose}>\n      <div className=\"menu-modal__wrapper\">\n        <span className=\"menu-modal__title\">Menu</span>\n\n        <ChangeQuestionsButton\n          className=\"menu-modal__button\"\n          accept=\".json,application/json\"\n          multiple={false}\n          onSelected={props.onChangeQuestions}\n        >\n          Zmień pytania\n        </ChangeQuestionsButton>\n        <button className=\"menu-modal__button\" onClick={props.onEndGame}>\n          Zakończ grę\n        </button>\n        <button className=\"menu-modal__button\" onClick={props.onClose}>\n          Zamknij menu\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","// @flow\nimport React, { Component } from 'react';\nimport './Counter.scss';\n\nexport class Counter extends Component<{}, CounterState> {\n  state = {\n    totalTime: 90,\n    timeLeft: 90\n  };\n\n  timeoutId;\n\n  componentDidMount() {\n    this.nextTick();\n  }\n\n  componentWillUnmount() {\n    if (this.state.timeLeft > 0 && this.timeoutId) {\n      clearTimeout(this.timeoutId);\n    }\n  }\n\n  nextTick = () => {\n    this.timeoutId = setTimeout(() => {\n      if (this.state.timeLeft <= 0) {\n        return;\n      }\n\n      this.setState({ timeLeft: this.state.timeLeft - 1 });\n      this.nextTick();\n    }, 1000);\n  };\n\n  render() {\n    const { state } = this;\n    const r = 5;\n    const perimeter = 2 * Math.PI * r;\n    const offset = perimeter * ((state.totalTime - state.timeLeft) / state.totalTime);\n\n    return (\n      <div className=\"counter__wrapper\">\n        <svg className=\"counter__svg\" viewBox=\"-1 -1 12 12\">\n          <circle\n            className=\"counter__circle\"\n            cx=\"5\"\n            cy=\"5\"\n            r={r}\n            strokeDasharray={perimeter}\n            strokeDashoffset={offset}\n          />\n        </svg>\n\n        <div className=\"counter__digit\">{state.timeLeft}</div>\n      </div>\n    );\n  }\n}\n","// @flow\nimport React from 'react';\nimport { Modal } from './Modal';\nimport { Question } from '../models';\nimport './QuestionModal.scss';\nimport { Counter } from './Counter';\n\nexport interface QuestionModalProps {\n  open: boolean;\n  question: Question;\n\n  onAnswer: () => void;\n  onSkip: () => void;\n}\n\nexport function QuestionModal(props: QuestionModalProps) {\n  return (\n    <Modal open={props.open}>\n      {props.question && (\n        <>\n          <div className=\"question-modal__wrapper\">\n            <div className=\"question-modal__question-wrapper\">\n              <div className=\"question-modal__question\">{props.question.content}</div>\n\n              <div className=\"question-modal__counter\">\n                <Counter key={props.question.id} />\n              </div>\n            </div>\n\n            <div className=\"question-modal__buttons\">\n              <button className=\"question-modal__button\" onClick={props.onAnswer}>\n                Wiem!\n              </button>\n              &nbsp;\n              <button className=\"question-modal__button\" onClick={props.onSkip}>\n                Nie wiem?\n              </button>\n            </div>\n          </div>\n        </>\n      )}\n    </Modal>\n  );\n}\n","// @flow\nexport const NEXT_QUESTION = 'NEXT_QU]ESTION';\nexport const ANSWER_QUESTION = 'ANSWER_QUESTION';\nexport const ANSWER_BONUS_QUESTION = 'ANSWER_BONUS_QUESTION';\nexport const SKIP_QUESTION = 'SKIP_QUESTION';\nexport const OPEN_MENU = 'OPEN_MENU';\nexport const CLOSE_MENU = 'CLOSE_MENU';\nexport const END_GAME = 'END_GAME';\nexport const FINSH_GAME = 'FINSH_GAME';\n","// @flow\nimport { createSelector } from 'reselect';\n\nfunction getQuestionsState(state) {\n  return state.questions;\n}\n\nfunction getCategories(state) {\n  return state.questions && state.questions.categories;\n}\n\nexport const getCategoriesNames = createSelector(\n  getCategories,\n  function(categories) {\n    return (categories || []).reduce((acc, cat) => {\n      acc.push(cat.name);\n      return acc;\n    }, []);\n  }\n);\n\nconst getFlatQuestionsWithCategories = createSelector(\n  getCategories,\n  function(categories) {\n    if (!categories) {\n      return [];\n    }\n\n    return categories.reduce((acc, cat) => {\n      const questionsWithCategories = (cat.questions || []).map(q => ({ ...q, categoryName: cat.name }));\n      acc.push(...questionsWithCategories);\n\n      return acc;\n    }, []);\n  }\n);\n\nexport function getGameState(state: any) {\n  return state.game;\n}\n\nexport const getCurrentQuestion = createSelector(\n  getFlatQuestionsWithCategories,\n  getGameState,\n  function(flatQuestions, gameState) {\n    if (!gameState.currentQuestion) {\n      return null;\n    }\n\n    return flatQuestions.find(q => q.id === gameState.currentQuestion);\n  }\n);\n\nconst getSkippedQuestions = createSelector(\n  getGameState,\n  function(gameState) {\n    return gameState.skippedQuestions;\n  }\n);\n\nconst getAnsweredQuestionIds = createSelector(\n  getGameState,\n  function(gameState) {\n    return gameState.answeredQuestions;\n  }\n);\n\nexport const getAnsweredQuestions = createSelector(\n  getFlatQuestionsWithCategories,\n  getAnsweredQuestionIds,\n  function(flatQuestions, answeredQuestions) {\n    const answered = [...(answeredQuestions || [])];\n\n    return answered.map(id => flatQuestions.find(q => q.id === id));\n  }\n);\n\nexport const getLeftQuestions = createSelector(\n  getFlatQuestionsWithCategories,\n  getSkippedQuestions,\n  getAnsweredQuestionIds,\n  function(flatQuestions, skippedQuestions, answeredQuestions) {\n    const used = [...(skippedQuestions || []), ...(answeredQuestions || [])];\n\n    return flatQuestions.filter(q => used.indexOf(q.id) === -1);\n  }\n);\n\nexport const getBonusQuestion = createSelector(\n  getQuestionsState,\n  function(questions) {\n    return questions.bonusQuestion;\n  }\n);\n\nexport const getBonusQuestionAnswered = createSelector(\n  getGameState,\n  function(state) {\n    return state.bonusQuestionAnswered;\n  }\n);\n","// @flow\nexport const LOAD_QUESTIONS = 'LOAD_QUESTIONS';\nexport const LOAD_QUESTIONS_SUCCESS = 'LOAD_QUESTIONS_SUCCESS';\nexport const LOAD_QUESTIONS_FAILURE = 'LOAD_QUESTIONS_FAILURE';\nexport const CHANGE_QUESTIONS = 'CHANGE_QUESTIONS';\nexport const CHANGE_QUESTIONS_SUCCESS = 'CHANGE_QUESTIONS_SUCCESS';\nexport const CHANGE_QUESTIONS_FAILURE = 'CHANGE_QUESTIONS_FAILURE';\n","import { guid } from '../shared/utils';\n\nexport function parseQuestions(data) {\n  const categories = ((data && data.categories) || []).map(category => {\n    const questions = (category.questions || []).map(question => {\n      question.id = question.id || guid();\n\n      return question;\n    });\n\n    return {\n      ...category,\n      questions\n    };\n  });\n\n  const bonusQuestion =\n    data && data.bonusQuestion\n      ? {\n          ...data.bonusQuestion,\n          id: data.bonusQuestion.id || guid()\n        }\n      : null;\n\n  return {\n    categories,\n    bonusQuestion\n  };\n}\n","// @flow\nimport axios from 'axios';\nimport {\n  LOAD_QUESTIONS,\n  LOAD_QUESTIONS_FAILURE,\n  LOAD_QUESTIONS_SUCCESS,\n  CHANGE_QUESTIONS,\n  CHANGE_QUESTIONS_FAILURE,\n  CHANGE_QUESTIONS_SUCCESS\n} from '../actions/questions.actions';\nimport { ThunkDispatch } from 'redux-thunk';\nimport { parseQuestions } from '../helpers';\n\nexport function loadQuestions(url: string) {\n  return async function(dispatch: ThunkDispatch) {\n    dispatch({\n      type: LOAD_QUESTIONS\n    });\n\n    try {\n      const res = await axios.get(url);\n      const payload = parseQuestions(res.data);\n\n      dispatch({\n        type: LOAD_QUESTIONS_SUCCESS,\n        payload\n      });\n    } catch (e) {\n      dispatch({\n        type: LOAD_QUESTIONS_FAILURE\n      });\n    }\n  };\n}\n\nexport function changeQuestions(files: File[]) {\n  return async function(dispatch: ThunkDispatch) {\n    dispatch({\n      type: CHANGE_QUESTIONS\n    });\n\n    try {\n      const file = files[0];\n      const fr = new FileReader();\n\n      const payload = await new Promise((resolve, reject) => {\n        fr.addEventListener('load', () => {\n          try {\n            const data = JSON.parse(fr.result);\n            const parsed = parseQuestions(data);\n            resolve(parsed);\n          } catch (e) {\n            reject();\n          }\n        });\n\n        fr.addEventListener('error', () => {\n          reject();\n        });\n\n        fr.readAsText(file);\n      });\n\n      dispatch({\n        type: CHANGE_QUESTIONS_SUCCESS,\n        payload\n      });\n    } catch (e) {\n      dispatch({\n        type: CHANGE_QUESTIONS_FAILURE\n      });\n    }\n  };\n}\n","// @flow\nimport React from 'react';\nimport { Modal } from './Modal';\nimport './FinishModal.scss';\n\nexport interface FinishModalProps {\n  open: boolean;\n\n  onClose: () => void;\n}\n\nexport function FinishModal(props: FinishModalProps) {\n  return (\n    <Modal open={props.open}>\n      <div className=\"finish-modal__wrapper\">\n        <span className=\"finish-modal__title\">Gratulacje!</span>\n\n        <button className=\"finish-modal__button\" onClick={props.onClose}>\n          Zakończ\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","// @flow\nimport React from 'react';\nimport { Modal } from './Modal';\nimport './NoQuestionsModal.scss';\n\nexport interface NoQuestionsModalProps {\n  open: boolean;\n\n  onClose: () => void;\n}\n\nexport function NoQuestionsModal(props: NoQuestionsModalProps) {\n  return (\n    <Modal open={props.open}>\n      <div className=\"no-questions-modal__wrapper\">\n        <span className=\"no-questions-modal__title\">Nie mamy dla was więcej pytań :(</span>\n\n        <button className=\"no-questions-modal__button\" onClick={props.onClose}>\n          Zakończ grę\n        </button>\n      </div>\n    </Modal>\n  );\n}\n","// @flow\nimport React, { Component } from 'react';\nimport './Game.scss';\nimport { Map } from '../components/Map';\nimport { connect } from 'react-redux';\nimport { Wheel } from '../components/Wheel';\nimport {\n  WHEEL_SPIN_DURATION,\n  MAP_ISLANDS,\n  MAP_VIEWBOX,\n  MAP_PATH_START,\n  MAP_PATH_END,\n  MAP_PATH_CENTER\n} from '../constants';\nimport { Question, QuestionWithCategory } from '../models';\nimport { easeQuadOut } from 'd3-ease';\nimport { MenuModal } from '../components/MenuModal';\nimport { QuestionModal } from '../components/QuestionModal';\nimport {\n  CLOSE_MENU,\n  OPEN_MENU,\n  ANSWER_QUESTION,\n  SKIP_QUESTION,\n  NEXT_QUESTION,\n  END_GAME,\n  FINSH_GAME,\n  ANSWER_BONUS_QUESTION\n} from '../actions/game.actions';\nimport {\n  getCurrentQuestion,\n  getGameState,\n  getLeftQuestions,\n  getCategoriesNames,\n  getAnsweredQuestions,\n  getBonusQuestion,\n  getBonusQuestionAnswered\n} from '../selectors/game.selectors';\nimport { changeQuestions } from '../thunks/questions.thunks';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCog } from '@fortawesome/free-solid-svg-icons';\nimport { FinishModal } from '../components/FinishModal';\nimport { NoQuestionsModal } from '../components/NoQuestionsModal';\n\nfunction mapStateToProps(state) {\n  const { menuOpened, targetAnswersNumber } = getGameState(state);\n\n  return {\n    currentQuestion: getCurrentQuestion(state),\n    leftQuestions: getLeftQuestions(state),\n    answeredQuestions: getAnsweredQuestions(state),\n    categoriesNames: getCategoriesNames(state),\n    bonusQuestion: getBonusQuestion(state),\n    bonusQuestionAnswered: getBonusQuestionAnswered(state),\n    menuOpened,\n    targetAnswersNumber\n  };\n}\n\nconst mapDispatchToProps = {\n  closeMenu() {\n    return function(dispatch) {\n      dispatch({ type: CLOSE_MENU });\n    };\n  },\n  openMenu() {\n    return function(dispatch) {\n      dispatch({ type: OPEN_MENU });\n    };\n  },\n  nextQuestion(payload) {\n    return function(dispatch) {\n      dispatch({ type: NEXT_QUESTION, payload });\n    };\n  },\n  answerQuestion() {\n    return function(dispatch) {\n      dispatch({ type: ANSWER_QUESTION });\n    };\n  },\n  answerBonusQuestion() {\n    return function(dispatch) {\n      dispatch({ type: ANSWER_BONUS_QUESTION });\n    };\n  },\n  skipQuestion() {\n    return function(dispatch) {\n      dispatch({ type: SKIP_QUESTION });\n    };\n  },\n  endGame() {\n    return function(dispatch) {\n      dispatch({ type: END_GAME });\n    };\n  },\n  finishGame() {\n    return function(dispatch) {\n      dispatch({ type: FINSH_GAME });\n    };\n  },\n  changeQuestions\n};\n\ninterface GameProps {\n  menuOpened: boolean;\n  bonusQuestion: Question | null;\n  bonusQuestionAnswered: boolean;\n  currentQuestion: QuestionWithCategory;\n  leftQuestions: QuestionWithCategory[];\n  answeredQuestions: QuestionWithCategory[];\n  targetAnswersNumber: number;\n\n  closeMenu: () => void;\n  openMenu: () => void;\n  nextQuestion: (payload: { question: QuestionWithCategory }) => void;\n  answerQuestion: () => void;\n  answerBonusQuestion: () => void;\n  skipQuestion: () => void;\n  endGame: () => void;\n  changeQuestions: (files: File[]) => void;\n  finishGame: () => void;\n}\n\nclass Game extends Component<GameProps, any> {\n  audioRef = React.createRef();\n  state = {\n    selectedColorIndex: 0,\n    colors: ['#FCFFFC', '#2BA84A'],\n    spinDuration: WHEEL_SPIN_DURATION,\n    nextQuestionId: '',\n    showBonusQuestion: false\n  };\n\n  handleSpin = () => {\n    const { current: audio } = this.audioRef;\n\n    if (!audio) {\n      return;\n    }\n\n    this.setState(state => {\n      const { leftQuestions } = this.props;\n      const nextQuestion = leftQuestions[Math.ceil(Math.random() * (leftQuestions.length - 1))];\n      audio.play();\n\n      setTimeout(() => {\n        this.props.nextQuestion({ question: nextQuestion });\n      }, state.spinDuration);\n\n      return {\n        selectedColorIndex: Math.floor(Math.random() * state.colors.length),\n        nextQuestionId: nextQuestion.id\n      };\n    });\n  };\n\n  handleOpenBonusQuestion = () => {\n    this.setState({ showBonusQuestion: true });\n  };\n\n  render() {\n    const { props, state } = this;\n\n    return (\n      <div className=\"game__wrapper\">\n        <audio src={`${process.env.PUBLIC_URL}/assets/lucky-spin-sound.mp3`} hidden ref={this.audioRef} />\n\n        <Map\n          currentSegments={props.answeredQuestions.length}\n          totalSegments={props.targetAnswersNumber}\n          islands={MAP_ISLANDS}\n          viewBox={MAP_VIEWBOX}\n          start={MAP_PATH_START}\n          end={MAP_PATH_END}\n          center={MAP_PATH_CENTER}\n          onCrossClick={this.handleOpenBonusQuestion}\n        />\n\n        {props.answeredQuestions.length < props.targetAnswersNumber && (\n          <div className=\"game__wheel\">\n            <Wheel\n              onSpin={this.handleSpin}\n              angle={20}\n              numberOfSpins={this.audioRef.current ? 3 : 0}\n              selectedColorIndex={state.selectedColorIndex}\n              colors={state.colors}\n              nextQuestionId={state.nextQuestionId}\n              config={{\n                duration: state.spinDuration,\n                easing: easeQuadOut\n              }}\n            />\n          </div>\n        )}\n\n        <div className=\"game__menu-button-wrapper\">\n          <button className=\"game__menu-button\" onClick={props.openMenu}>\n            <FontAwesomeIcon icon={faCog} size=\"2x\" />\n          </button>\n        </div>\n\n        <MenuModal\n          open={props.menuOpened}\n          onChangeQuestions={props.changeQuestions}\n          onClose={props.closeMenu}\n          onEndGame={props.endGame}\n        />\n\n        <QuestionModal\n          open={!!props.currentQuestion}\n          question={props.currentQuestion}\n          onAnswer={props.answerQuestion}\n          onSkip={props.skipQuestion}\n        />\n\n        <QuestionModal\n          open={\n            props.answeredQuestions.length >= props.targetAnswersNumber &&\n            !!props.bonusQuestion &&\n            !props.bonusQuestionAnswered &&\n            state.showBonusQuestion\n          }\n          question={props.bonusQuestion}\n          onAnswer={props.answerBonusQuestion}\n          onSkip={props.answerBonusQuestion}\n        />\n\n        <FinishModal\n          open={\n            props.answeredQuestions.length >= props.targetAnswersNumber &&\n            (!props.bonusQuestion || props.bonusQuestionAnswered)\n          }\n          onClose={props.finishGame}\n        />\n\n        <NoQuestionsModal open={props.leftQuestions.length === 0 && !props.currentQuestion} onClose={props.endGame} />\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Game);\n","// @flow\nimport React from 'react';\nimport { START_GAME } from '../actions/home.actions';\nimport { connect } from 'react-redux';\nimport { WithFileInput } from '../components/WithFileInput';\nimport { changeQuestions } from '../thunks/questions.thunks';\nimport './Home.scss';\n\nconst ChangeQuestionsButton = WithFileInput(props => <button {...props} />);\n\nconst mapDispatchToProps = {\n  startGame() {\n    return function(dispatch) {\n      dispatch({\n        type: START_GAME\n      });\n    };\n  },\n  changeQuestions\n};\n\ninterface HomeProps {\n  startGame: () => void;\n  changeQuestions: (files: File[]) => void;\n}\n\nfunction Home(props: HomeProps) {\n  return (\n    <div className=\"home\">\n      <section className=\"home__section\">\n        <h1>Gotowi do startu?</h1>\n        <button className=\"home__button\" type=\"button\" onClick={props.startGame}>\n          Zaczynamy\n        </button>\n        <br />\n        <ChangeQuestionsButton\n          className=\"home__button\"\n          accept=\".json,application/json\"\n          multiple={false}\n          onSelected={props.changeQuestions}\n        >\n          Zmień pytania\n        </ChangeQuestionsButton>\n      </section>\n    </div>\n  );\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Home);\n","export const START_GAME = 'START_GAME';\n","import React, { createContext, Component } from 'react';\nimport { debounce } from 'lodash-es';\n\nconst INITIAL_WINDOW_WIDTH = window.innerWidth;\nconst INITIAL_WINDOW_HEIGHT = window.innerHeight;\n\nconst { Provider, Consumer } = createContext({\n  width: INITIAL_WINDOW_WIDTH,\n  height: INITIAL_WINDOW_HEIGHT,\n});\n\nexport class WindowSizeProvider extends Component {\n  state = {\n    width: INITIAL_WINDOW_WIDTH,\n    height: INITIAL_WINDOW_HEIGHT,\n  };\n\n  updateWindowSize = debounce(() => {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n  }, 100);\n\n  componentDidMount() {\n    window.addEventListener('resize', this.updateWindowSize);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowSize);\n  }\n\n  render() {\n    return <Provider value={this.state}>{this.props.children}</Provider>;\n  }\n}\n\nexport function withWindowSize(Component) {\n  return function(props) {\n    return <Consumer>{({ width, height }) => <Component {...props} width={width} height={height} />}</Consumer>;\n  };\n}\n","// @flow\nimport React, { Component, createRef } from 'react';\n\nexport interface CoordinateProps {\n  d: string;\n  index: number;\n  className?: string;\n}\n\nexport class Coordinate extends Component<CoordinateProps> {\n  ref = createRef<any>();\n\n  componentDidMount() {\n    const { current: path } = this.ref;\n\n    if (!path) {\n      return;\n    }\n\n    const length = path.getTotalLength();\n    this.updatePath(length);\n  }\n\n  updatePath = (length: number) => {\n    const { current: path } = this.ref;\n\n    if (!path) {\n      return;\n    }\n\n    const { index: i } = this.props;\n    path.style.transition = path.style.WebkitTransition = 'none';\n    path.style.strokeDasharray = length + ' ' + length;\n    path.style.strokeDashoffset = i % 2 === 0 ? length : -1 * length;\n    path.getBoundingClientRect();\n    path.style.transition = path.style.WebkitTransition = 'stroke-dashoffset 2s ease-in-out 0s';\n    path.style.strokeDashoffset = '0';\n  };\n\n  render() {\n    const { d, className } = this.props;\n\n    return <path ref={this.ref} className={className} d={d} />;\n  }\n}\n","// @flow\nimport React from 'react';\nimport './MapBackground.scss';\nimport { withWindowSize } from './WithWindowSize';\nimport { Coordinate } from './Coordinate';\n\nfunction generateCoordinates(width: number, height: number, spaceBetween: number, maxControlPointSpace: number) {\n  const horizontalCurves = [];\n  const verticalCurves = [];\n\n  const horizontalLength = Math.floor(height / spaceBetween);\n  for (let i = 0; i <= horizontalLength; i++) {\n    const fromTop = i * spaceBetween;\n    const controlFromTop = fromTop + ((horizontalLength / 2 - i) / horizontalLength) * maxControlPointSpace;\n    horizontalCurves.push(\n      `M\n      0,${fromTop}\n      C\n      ${maxControlPointSpace},${controlFromTop}\n      ${width - maxControlPointSpace},${controlFromTop}\n      ${width},${fromTop}`\n    );\n  }\n\n  const verticalLength = Math.floor(width / spaceBetween);\n  for (let i = 0; i <= verticalLength; i++) {\n    const fromLeft = i * spaceBetween;\n    const controlFromLeft = fromLeft + ((verticalLength / 2 - i) / verticalLength) * maxControlPointSpace;\n    verticalCurves.push(\n      `M\n      ${fromLeft},0\n      C\n      ${controlFromLeft},${maxControlPointSpace}\n      ${controlFromLeft},${width - maxControlPointSpace}\n      ${fromLeft},${height}`\n    );\n  }\n\n  return [...horizontalCurves, ...verticalCurves];\n}\n\ninterface MapBackgroundProps {\n  viewBox: string;\n  coordinates: string[];\n  islands: string[];\n  width: number;\n  height: number;\n}\n\nfunction MapBackground(props: MapBackgroundProps) {\n  const { width, height } = props;\n  const coordinateItems = generateCoordinates(width, height, width / 10, width / 20).map((d, index) => (\n    <Coordinate key={d} className=\"map-background__coordinate\" d={d} index={index} />\n  ));\n\n  return (\n    <div className=\"map-background\">\n      <svg className=\"map-background__svg\" viewBox={`0 0 ${width} ${height}`}>\n        <g>{coordinateItems}</g>\n      </svg>\n    </div>\n  );\n}\n\nexport default withWindowSize(MapBackground);\n","// @flow\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Game from './Game';\nimport Home from './Home';\nimport MapBackground from '../components/MapBackground';\nimport { MAP_VIEWBOX, MAP_BACKGROUND_ISLANDS } from '../constants';\nimport { WindowSizeProvider } from '../components/WithWindowSize';\n\nfunction mapStateToProps(state) {\n  const { started } = state && state.game;\n\n  return {\n    started\n  };\n}\n\ninterface MainProps {\n  started: boolean;\n}\n\nfunction Main(props: MainProps) {\n  const { started } = props;\n  let content = null;\n\n  if (started) {\n    content = <Game />;\n  } else {\n    content = <Home />;\n  }\n\n  return (\n    <WindowSizeProvider>\n      <MapBackground viewBox={MAP_VIEWBOX} islands={MAP_BACKGROUND_ISLANDS} />\n      {content}\n    </WindowSizeProvider>\n  );\n}\n\nexport default connect(mapStateToProps)(Main);\n","// @flow\nimport {\n  LOAD_QUESTIONS,\n  LOAD_QUESTIONS_SUCCESS,\n  LOAD_QUESTIONS_FAILURE,\n  CHANGE_QUESTIONS,\n  CHANGE_QUESTIONS_SUCCESS,\n  CHANGE_QUESTIONS_FAILURE\n} from '../actions/questions.actions';\nimport { createReducer } from '../../shared/utils';\n\nconst QUESTIONS_INITIAL_STATE = {\n  categories: [],\n  loading: false\n};\n\nexport const questionsReducer = createReducer(QUESTIONS_INITIAL_STATE, {\n  [LOAD_QUESTIONS]: state => ({\n    ...state,\n    loading: true\n  }),\n  [LOAD_QUESTIONS_SUCCESS]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n    loading: false\n  }),\n  [LOAD_QUESTIONS_FAILURE]: state => ({\n    ...state,\n    loading: false\n  }),\n  [CHANGE_QUESTIONS]: state => ({\n    ...state,\n    loading: true\n  }),\n  [CHANGE_QUESTIONS_SUCCESS]: (state, { payload }) => ({\n    ...state,\n    ...payload,\n    loading: false\n  }),\n  [CHANGE_QUESTIONS_FAILURE]: state => ({\n    ...state,\n    loading: false\n  })\n});\n","// @flow\nimport { START_GAME } from '../actions/home.actions';\nimport { createReducer } from '../../shared/utils';\nimport {\n  NEXT_QUESTION,\n  ANSWER_QUESTION,\n  SKIP_QUESTION,\n  OPEN_MENU,\n  CLOSE_MENU,\n  END_GAME,\n  FINSH_GAME,\n  ANSWER_BONUS_QUESTION\n} from '../actions/game.actions';\nimport { TARGET_ANSWERS_NUMBER } from '../constants';\nimport { CHANGE_QUESTIONS_SUCCESS } from '../actions/questions.actions';\n\nconst GAME_INITIAL_STATE = {\n  started: false,\n  answeredQuestions: [],\n  skippedQuestions: [],\n  currentQuestion: null,\n  menuOpened: false,\n  targetAnswersNumber: TARGET_ANSWERS_NUMBER,\n  bonusQuestionAnswered: false\n};\n\nexport const gameReducer = createReducer(GAME_INITIAL_STATE, {\n  [START_GAME]: state => ({\n    ...state,\n    started: true\n  }),\n  [NEXT_QUESTION]: (state, { payload }) => ({\n    ...state,\n    currentQuestion: payload.question && payload.question.id\n  }),\n  [ANSWER_QUESTION]: state => ({\n    ...state,\n    answeredQuestions: [...state.answeredQuestions, state.currentQuestion],\n    currentQuestion: null\n  }),\n  [SKIP_QUESTION]: state => ({\n    ...state,\n    skippedQuestions: [...state.skippedQuestions, state.currentQuestion],\n    currentQuestion: null\n  }),\n  [OPEN_MENU]: state => ({\n    ...state,\n    menuOpened: true\n  }),\n  [CLOSE_MENU]: state => ({\n    ...state,\n    menuOpened: false\n  }),\n  [END_GAME]: state => ({\n    ...state,\n    ...GAME_INITIAL_STATE\n  }),\n  [FINSH_GAME]: state => ({\n    ...state,\n    ...GAME_INITIAL_STATE\n  }),\n  [CHANGE_QUESTIONS_SUCCESS]: state => ({\n    ...state,\n    ...GAME_INITIAL_STATE\n  }),\n  [ANSWER_BONUS_QUESTION]: state => ({\n    ...state,\n    bonusQuestionAnswered: true\n  })\n});\n","// @flow\nimport { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { questionsReducer } from './game/reducers/questions.reducer';\nimport { gameReducer } from './game/reducers/game.reducer';\n\nconst rootReducer = combineReducers({\n  questions: questionsReducer,\n  game: gameReducer,\n});\n\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\n","// @flow\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport { loadQuestions } from '../thunks/questions.thunks';\n\nconst mapDispatchToProps = {\n  loadQuestions,\n};\n\ninterface SetupProps {\n  children: React$Node;\n\n  loadQuestions: (url: string) => void;\n}\n\nclass Setup extends Component<SetupProps> {\n  componentDidMount() {\n    this.props.loadQuestions('/assets/questions.json');\n  }\n\n  render() {\n    return this.props.children;\n  }\n}\n\nexport default compose(\n  withRouter,\n  connect(\n    null,\n    mapDispatchToProps\n  )\n)(Setup);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// @flow\nimport React, { Suspense } from 'react';\nimport { Route, Switch, BrowserRouter, Redirect } from 'react-router-dom';\nimport { Loader } from './shared/components/Loader';\nimport Main from './game/containers/Main';\nimport { store } from './store';\nimport { Provider } from 'react-redux';\nimport './App.scss';\nimport Setup from './game/containers/Setup';\n\nexport function App() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <Setup>\n          <Suspense fallback={<Loader />}>\n            <div className=\"app__container\">\n              <Switch>\n                <Route exact path=\"/\" component={Main} />\n\n                <Redirect to=\"/\" />\n              </Switch>\n            </div>\n          </Suspense>\n        </Setup>\n      </BrowserRouter>\n    </Provider>\n  );\n}\n"],"sourceRoot":""}